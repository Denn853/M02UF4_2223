<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>MongENTI</title>
		<meta charset="UTF-8">
	</head>
	<body>
		<h1>ENTIerrame!</h1>
		<nav>
			<form>
				<ul>
					<li><button id="characters-button" onclick="getCharacters(); return false;">Personajes</button></li>
					<li><button id="items-button" onclick="getItems(); return false;">Objetos</button></li>
					<li><button id="weapons-button" onclick="getWeapons(); return false;">Armas</button></li>
				</ul>
			</form>
		</nav>
		<main id="contents-main">
			<h2>Contenidos de la página</h2>
		</main>
		
		<form action="/character_form" method="POST">
			<h2>Añadir personaje</h2>
			<p><label for="character-name">Nombre</label>
				<input type="text" name="name" id="character-name"/></p>
		
			<p><label for="character-age">Edad</label>
				<input type="number" name="age" id="character-age"/></p>
			
			<p><input type="submit" value="¡Añadir personaje!"/></p>
			
			
		</form>

		<script>
			function getCharacters() {

				fetch("http://10.40.2.119:8080/characters")
						.then(response => response.json())
						.then(characters => {

					let list = "<ul>";
					for (let i = 0; i < characters.length; i++) {
						list += "<li>"+characters[i]+"</li>";
					}
					list += "</ul>"

					document.getElementById("contents-main").innerHTML = list;
				});
			}

			function getItems() {

				fetch("http://10.40.2.119:8080/items")
						.then(response => response.json())
						.then(items => {

					let list = "<ul>";
					for (let i = 0; i < items.length; i++) {
						list += "<li>"+items[i]+"</li>";
					}
					list += "</ul>"

					document.getElementById("contents-main").innerHTML = list;
				});
			}
				
		</script>
	</body>
</html>
